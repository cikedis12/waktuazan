<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
  <title>Azan Countdown - Shah Alam</title>
  <style type="text/css">
    body {
      background-color: #004aad;
      color: white;
      font-family: Arial, Helvetica, sans-serif;
      text-align: center;
      margin-top: 100px;
    }
    h1 {
      font-weight: normal;
      font-size: 24pt;
    }
    #clock {
      font-size: 36pt;
      font-weight: bold;
      margin: 20px 0;
    }
    #nextAzan {
      font-size: 14pt;
      margin: 15px 0;
    }
    #countdown {
      font-size: 28pt;
      font-weight: bold;
      margin: 20px 0;
      background-color: #000080;
      padding: 10px;
      border: 2px solid white;
      width: 220px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
  <script language="JavaScript" type="text/javascript">
    // Azan times for Shah Alam (24h)
    var azanTimes = [
      {name: 'Fajr', time: '05:53'},
      {name: 'Dhuhr', time: '13:12'},
      {name: 'Asr', time: '16:58'},
      {name: 'Maghrib', time: '19:20'},
      {name: 'Isha', time: '20:32'}
    ];

    function parseTimeToDate(hhmm) {
      var now = new Date();
      var parts = hhmm.split(':');
      var dt = new Date(now.getYear() + 1900, now.getMonth(), now.getDate(), parseInt(parts[0],10), parseInt(parts[1],10), 0);
      return dt;
    }

    function getNextAzan() {
      var now = new Date();
      for (var i = 0; i < azanTimes.length; i++) {
        var azanDate = parseTimeToDate(azanTimes[i].time);
        if (azanDate > now) {
          return {name: azanTimes[i].name, time: azanTimes[i].time, date: azanDate};
        }
      }
      var tomorrowFajr = parseTimeToDate(azanTimes[0].time);
      tomorrowFajr.setDate(tomorrowFajr.getDate() + 1);
      return {name: azanTimes[0].name, time: azanTimes[0].time, date: tomorrowFajr};
    }

    function pad(num) {
      return (num < 10 ? '0' : '') + num;
    }

    function formatTime(sec) {
      var h = Math.floor(sec / 3600);
      var m = Math.floor((sec % 3600) / 60);
      var s = sec % 60;
      return pad(h) + ':' + pad(m) + ':' + pad(s);
    }

    function updateClock() {
      var now = new Date();
      var hours = pad(now.getHours());
      var minutes = pad(now.getMinutes());
      var seconds = pad(now.getSeconds());
      document.getElementById('clock').innerHTML = hours + ':' + minutes + ':' + seconds;

      var nextAzan = getNextAzan();
      document.getElementById('nextAzan').innerHTML = 'Next Azan: ' + nextAzan.name + ' (' + nextAzan.time + ')';

      var diff = Math.floor((nextAzan.date - now) / 1000);
      if (diff < 0) diff = 0;
      document.getElementById('countdown').innerHTML = formatTime(diff);

      // NOTE: No sound support in HTML3 era, so no beep or azan audio

      setTimeout(updateClock, 1000);
    }
  </script>
</head>
<body onload="updateClock()">
  <h1>Waktu Azan Shah Alam</h1>
  <div id="clock">--:--:--</div>
  <div id="nextAzan">Next Azan: Fajr</div>
  <div id="countdown">--:--:--</div>
  <p><small>Static Azan Timer • Shah Alam • By ChatGPT</small></p>
</body>
</html>
